var now=new Date().getTime();function afterMin(date,min,format){date=timeStamp(date);function timeStampAdd(date,min){min=parseInt(min);min=(min*60)*1000
return date+min}return(formatTime(timeStampAdd(date,min),format))}function beforeMin(date,min,format){date=timeStamp(date);function timeStampReduce(date,min){min=parseInt(min);min=(min*60)*1000
return date-min}return(formatTime(timeStampReduce(date,min),format))}function timer(start_date,end_date,url,method){start_date=timeStamp(start_date);end_date=timeStamp(end_date);var start_time=start_date-now;var end_time=end_date-now;if(end_time<0){console.log('活动已经结束了');return false;}setTimeout(()=>{console.log('活动开始')},start_time);setTimeout(()=>{console.log('活动结束')},end_time)}function timeStamp(date){date=date.replace(/(\d{4}).(\d{2}).(\d{2}).(\d{2}).(\d{2}).(\d{2})/,'$1/$2/$3 $4:$5:$6');date=new Date(date).getTime();return date;}function formatTime(number,format){let time=new Date(number);let newArr=[];let formatArr=['Y','M','D','h','m','s'];newArr.push(time.getFullYear());newArr.push(formatNumber(time.getMonth()+1));newArr.push(formatNumber(time.getDate()));newArr.push(formatNumber(time.getHours()));newArr.push(formatNumber(time.getMinutes()));newArr.push(formatNumber(time.getSeconds()));for(let i in newArr){format=format.replace(formatArr[i],newArr[i])}return format;}function formatNumber(n){n=n.toString();return n[1]?n:'0'+n;}